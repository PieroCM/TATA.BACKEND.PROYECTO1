using TATA.BACKEND.PROYECTO1.CORE.Core.Entities;

namespace TATA.BACKEND.PROYECTO1.CORE.Core.Interfaces
{
    /// <summary>
    /// Repositorio para operaciones de Machine Learning de predicción SLA
    /// </summary>
    public interface ISlaMLRepository
    {
        // ???????????????????????????????????????????????????????????????????
        // SOLICITUDES PARA ENTRENAMIENTO
        // ???????????????????????????????????????????????????????????????????

        /// <summary>
        /// Obtiene solicitudes cerradas para entrenamiento del modelo
        /// Estados: CERRADO, INACTIVO, VENCIDO
        /// EstadoCumplimientoSla: CUMPLE_* o NO_CUMPLE_*
        /// </summary>
        Task<List<Solicitud>> GetSolicitudesParaEntrenamientoAsync(DateTime fechaDesde, DateTime fechaHasta);

        /// <summary>
        /// Cuenta solicitudes disponibles para entrenamiento
        /// </summary>
        Task<int> CountSolicitudesEntrenamientoAsync(DateTime fechaDesde, DateTime fechaHasta);

        // ???????????????????????????????????????????????????????????????????
        // SOLICITUDES PARA PREDICCIÓN
        // ???????????????????????????????????????????????????????????????????

        /// <summary>
        /// Obtiene solicitudes activas/en proceso para predicción
        /// Estados: ACTIVO, EN_PROCESO, PENDIENTE
        /// </summary>
        Task<List<Solicitud>> GetSolicitudesActivasParaPrediccionAsync();

        /// <summary>
        /// Cuenta solicitudes activas
        /// </summary>
        Task<int> CountSolicitudesActivasAsync();
    }
}
